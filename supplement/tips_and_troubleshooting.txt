----------------------------------------------------------------------------------------------------
付録 (Tips and trouble-shooting)
----------------------------------------------------------------------------------------------------

翻訳活動への参加方法
--------------------
事前にツール (OSDN, OmegaT, TMX/TBX Editor, Git など) の使いかたを理解してくださるようお願いします。
これらは、すべてフリーソフトウェア (寄付歓迎、開発協力歓迎も対象) です。

* OmegaT (4.3.0 以降。ただし安定版のみ)                 : https://www.omegat.org/
* Okapi Framework (6.038 以降)                          : https://okapiframework.org/
* Rogrus Global Goldpan TBX/TMX Editor (3.3 以降)       : https://logrusglobal.com/goldpan.html
* WinMerge                                              : https://winmerge.org/
* BusyBox                                               : https://www.busybox.net/
* TortoiseGit                                           : https://tortoisegit.org/
* Xbench                                                : https://www.xbench.net/
* Anchovy                                               : https://www.maxprograms.com/products/anchovy.html
* Stanford Log-linear Part-Of-Speech Tagger             : https://nlp.stanford.edu/software/tagger.shtml

・OmegaT はメインの翻訳環境として使います。TMXが扱えるなら、ほかのCATツール (例えばBasicCAT) でも構いません。
・Okapi Framework は翻訳メモリの各種処理に使います。
  例えば翻訳メモリに対応していない機械翻訳ソフトの対訳データを TMX へ変換することもできます。
・Goldpan TBX/TMX は翻訳メモリデータベースの作成・編集に使います。
  コミットでは TMX 形式での提出が求められています。
  OmegaT などの翻訳メモリは定期的に保守整備を行わないと訳出精度が落ちるため、このようなソフトでの編集が必要です。
・Xbench は翻訳メモリのフォーマット変換、翻訳品質検査などに使います。
・Anchovy は Maxprograms Swordfish にバンドルされているフリーソフトウェアの用語集データベースエディタです。
・Part-Of-Speech Tagger は英文の品詞解析に使います。
・WinMerge は新旧バージョンの比較と変更箇所の検出に使います。

・パソコンのメモリは最低でも 8GB (Windows機) ほど必要です。 OmegaT だけで 1.2GB ほど消費します。
  VisualStudio などと併用しながら...となると 4GB では、かなりきついです。


共通辞書の指定
--------------
こればかりは、フリーソフトウェアで良いものがないので、きちんと正規品を購入してください。

・英辞郎 第11版 (辞書データVer.159 / 2020年1月8日版) 以降
  https://ec.alc.co.jp/book/7020008/


注意点: PDIC-R形式ですので、ほかのソフトでの串刺し検索はできません (変換方法は公開されておりません)。
EBWin4/EBPocket などで、ほかの辞書との串刺し検索をしたい方は、
書籍第8版ではなく、きちんと修正が施された EDPのサイトより旧版 (Ver.144.8)をお求めください。


・朝日出版社 EDIC 第二版

その他に、数学用語辞典、英米俗語辞典 (引用句の翻訳) や英和学習辞典が必要です (手持ちのものをお使いください)。

それ以外にもOALD9など置いておきたいものはありますが、あまり無理は言えません。


引用句について
--------------------
国内では愛好家以外なじみのない洋楽、洋物ゲームに関する知識が必要です。
スラングがわからないと訳せないものもあります。

・ラムシュタイン
・System Shock2

など。他言語の訳者もうまく訳せていないかたを多く見かけます (2020年現在、ニューラル翻訳でも正確な翻訳は不可能です)。
自信がなければ、そのままにしておいたほうが良いでしょう。


機械翻訳ソフトの指定
--------------------
あれば便利ですが、買わなくていいです。
主要翻訳者 LogoVista コリャ！英和 本格翻訳 2020 を使っていますが、翻訳作業に不慣れなかた向けに使っている面が強いです。

日本全国どこでも手に入りやすく、個人経営の書店でも注文できることくらいですかね。
ただ。今後、使用を終了する方針で作業を進めています。やはり、バグに泣かされることが多いんで。
これを書いていた数時間前も三十分ほどかけた原稿が印刷プレビューのバグで飛んでしまい、本当に捨てたくなりました。


翻訳活動への参加時にかかる必要
------------------------------
追加初期機材費用として 5000〜10000 円以内とします (主に辞書代です)。
機械翻訳ソフトウェアは任意です (みんなの自動翻訳が使えるかは未だ検討中)。
用意しなくても、いずれ翻訳メモリデータベースが蓄積されていきますので次第にいらなくなるでしょう。
そしてChromebook (Linux対応機) でも作業ができるようなると思います。

国内の Nim のユーザー層であると考えられる「平均的な学生さん/月平均のお小遣い2500〜円」で
捻出できる範囲を想定しております。

活動参加のための飲食代、宿泊費、通信費、電気代などは算入していません。


翻訳活動への参加方法 (注意点)
-----------------------------
内輪揉めをしているほど人生は暇ではありません。利用者の混乱を避けるため、フォークの乱立は避けてください。

* 主要翻訳者、および関係者へメールで送られても対応できません。かならず OSDN のリポジトリへプルリクエストしてください。
* 主要翻訳者はいつまでも活動を継続できるわけではありません。
* なにをしたらいいのかわからないときは、ご相談ください。翻訳以外にも変換作業などすることはたくさんあります。
* 主要翻訳者からの薄謝は期待しないでください。
* Google翻訳などウェブ翻訳サービスを使用した訳出結果のコミットはライセンス規約上の問題以外にも、
  ニューラル翻訳特有の問題があります。正確さを保証・検証できないため使用を禁止させていただいております。


対応可能ファイル形式
--------------------
tmx のみとさせていただきます (htmlタグは付けなくて構いません)。
それ以外の形式につきましてはご相談ください。

作りかたがわからないときはお気軽にご相談ください。

なお、ファイル名の形式は「ファイル名_Nimバージョン.tmx」です。
例えば、 Nim v.1.2.0 の os.html の tmx であれば os_v1.2.0.tmx となります。


プロジェクトが読み込めない (OmegaT)
-----------------------------------
「プロローグにはコンテンツを指定できません」エラーが表示されている場合は omegat.project が壊れています。
Git リポジトリからコピーしなおしてください。これはノートパソコンなど電源の不安定に成りやすい環境で稀に起きるようです。


固まる・重い (OmegaT)
-----------------------------------
OmegaT はかなりメモリを使います (1.4GB)。メモリを増設してもこれは起きます。
こうなったときは再起動してください。


LogoVista コリャ英和！  一発翻訳形式 (krydoc)
---------------------------------------------
この形式は機械翻訳版であり品質は保証できません。
アライメントの調整やポストエディットなどの修正は順次行いますが、作業優先順位は低いです (1.2.0 〜 1.3.0 で廃止予定)。

閲覧と編集には「LogoVista コリャ英和！  一発翻訳 2020」以降が必要です。
捨て値で手に入りやすい「LogoVista コリャ英和！  一発翻訳 2009 」以降での編集はできますが、
環境によってロックされた文節を編集しようとすると落ちたり、ツールバーが吹っ飛んだりするバグが潜んでいますので
お勧めしません。

この形式のファイルは下記フォルダに収録してあります。

* nim/docs/LogoVista/*

注意: 
  主要翻訳者によるコリャ英和の使用は Nim を以て終了となるため、
  この形式の提供は OmegaT 版の全仮訳完了後に受付・更新終了となります (Nim 1.0.8 〜 1.0.10 公開後の予定)。

備考: krydoc 形式の実態は zip ファイルです。
      SrcText (原文), TrgText (訳文) からテキストファイルを取り出すことができます。
      よって、翻訳エディタとテキストエディタで修正後に busybox (paste コマンド)、アライメントツールなどを使って
      tmx へ変換することは可能です 。


LogoVista コリャ英和！  一発翻訳 (雑記)
---------------------------------------
krydoc → tmx ファイルへの変換方法については、こちらがお勧めです。
翻訳エディタを疑似アライメントエディタとして使うことができますし、完全オフラインでの作業ができます。

参考ファイル
* nim/docs/LogoVista/tmx

前提条件
 - ApSIC Xbench 2.9 以降 
    v.2.9 はフリーソフトウェア、それ以降は商用ソフトです。

 - Goldpan TBX/TMX Editor 3.3 以降

作業の流れ
 - 1. コリャ英和！  一発翻訳 2020
   - アライメントの調整と機械翻訳（ポストエディット）
   - TSVファイルの作成 : ファイル(F) → テキストの書き出し(E) → 左右対訳(B)...

 - 2. TSVファイルの修正、または編集
   - テキストエディタ、 あるいは Microsoft Office, LibreOffice Calc などの表計算ソフトでも編集可能です。
   - ほかのファイルとのマージなどもできます。

 - 3. ApSIC Xbench で TSV → tmx へ変換
      Okapi Framework での変換もできるようです。

 - 4. Goldpan TBX/TMX Editor で修正・編集
 - 5. OmegaT の tm フォルダへコピー。

※この方法であれば、ほかの機械翻訳ソフトと OmegaT を併用できるかと思います。

※いまのところ、コリャ英和シリーズには TSV, CSV ファイルのインポート機能がないので手軽に (tmx → krydoc) へ戻す方法はありません。できるとしたら事例文翻訳機能を使うくらいです。
tmx → tsv → tma の順へ翻訳メモリを変換して、処理対象の krydoc へ反映する以外の方法はありません。この方法を応用すれば、ほかの翻訳エンジンや訳者の訳出結果も取り込めますけど工数が多くて、かなり面倒くさいです。

廃止: gawk で TSV ファイルのフィールドを切り出して  SrcText と TrgText を krydoc ファイルへ圧縮し直す方法も考えられますが、動作保証はありません (おそらく不明な翻訳エンジンエラーになると思います)。


LogoVista コリャ英和！  一発翻訳 2020 - バグ
------------------------------------------------

バグの多さにキレてもいいんじゃないでしょうか？

翻訳エディタでは、
・特定のファイルで印刷プレビューを使うと最終ページ後にハングアップする (2009からあるバグ)。 → 他のソフトで印刷してください。
・オートセーブ機能はありませんので、なにか終えるCtrl+Sで保存してください。
・異常終了するとツールバーが吹っ飛んで使えなくなる。 → 調査中です。再インストールする以外復旧方法はありません。


翻訳エンジンでは、
・apis.html
	should return an int with the < 0 == 0 or > 0 semantics; for a bool result use sameXYZ
	→翻訳できず原文が返されるだけでなく、グループ指定ができなくなる。他社製ソフトなら問題ない。
・for : 辞書の問題で、for の訳文が誤訳である「賛成の」になってしまう (おまけに、訳出禁止にできない)。
・iterator : 辞書によっては「アイテレータ」と誤訳されてしまう。

ファイル翻訳
・正常に構文解析ができないファイルが世の中に存在しますので使わないでください。

旧バージョンのアンインストールは...
・原則としてしないでください (最悪の場合、翻訳エンジンのレジストリが壊れて起動不能になります)


LogoVista コリャ英和！  一発翻訳 2020 - 起動不能
------------------------------------------------

たまに何かの拍子で翻訳エンジンが壊れることがあります。
わたくしのほうでは、 2019/06/22 (購入・インストール) → 2019/12/13 (破損) → 2020/03/14 といった
具合に三か月に一度くらい壊れています。困ったことに修復インストールでは絶対に復旧できません。出先では積みます。

なので、

1. C:\Users\＜ユーザ名＞\Documents\LogoVista_Corp\以下のバックアップを取ります (念のため)。
2. アンインストールしてから、再インストール (専門辞書がある場合はダイアログで「いいえ」)
3. アンインストールが終わったら、再インストールを実行します。
4. 旧版がインストールされていないとき: バージョンアップ・乗り換え版ではシリアル番号の入力、あるいは対象製品の指定が求められます。
5. ユーザ認証をします。
6. [1]のデータを書き戻します。これをしないと学習データなどが復旧できません。
7. アップデータを適用します。

これで復旧はできるはずですが、ライセンス認証回数 (三回まで) を超えるとユーザサポートのお世話になります。
低速回線ではユーザ登録すらままならず...面倒くさいです。


LogoVista コリャ英和！  一発翻訳 2020 - 起動不能への対策方法
------------------------------------------------------------

バックアップを作るのが近道ですが、復旧時間を考えるとあまり賢いとは言えません。
手間はかかりますが、対訳の機械翻訳版を作成し TMX へ変換。
そのあとの作業はすべて OmegaT でしたほうがいいかもしれません。


LogoVista コリャ英和！  一発翻訳 2020 - ファイル翻訳の不具合
------------------------------------------------------------
下記のファイル (Nim 1.0.6 - 調査中) を翻訳するとハングアップ (または「不明な翻訳エンジンエラー」) になる場合があります。
- dom.html
- iup.html
- manual.html
- mysql.html
- net.html
- openssl.html
- os.html
- pcre.html
- posix.html
- postgres.html
- sqlite3.html
- system.html
- tables.html
- termios.html
- theindex.html
- times.html
- winlean.html

解決策として、

・これらのファイルはウェブブラウザから開き、ページ全体をコピー、その後に翻訳エディタへ張り付けて下さい。
・また、翻訳エディタで直接読み込み (レイアウトビューモードで)。

なお、 manual.htmlは処理に時間がかかりますので、テキストを分割して処理することをお勧めします。

誤って処理対象としてしまった場合はタスクマネージャーを起動して

・ファイル翻訳 (32ビット)
・E to J 翻訳エンジン エンジンモジュール (32ビット)
・翻訳エンジン ロケータモジュール (32ビット)

の順に強制終了してください。または、 taskkillコマンドでも構いません。

taskkill /F /IM K21Grinder.exe
taskkill /F /IM K21EJTranslationEngine.exe
taskkill /F /IM K21TranslationEngineLocator.exe

そのあとに異常動作を起こすときは、コリャ英和関連のアプリを全て終了し %temp% フォルダを開いてテンポラリファイルをすべて削除してください。

また、翻訳エディタとファイル翻訳の併用は避けてください（環境によっては動作不良の原因となります）。


いい翻訳をするには
------------------

 1. 古すぎたり安物の翻訳ソフトはやめましょう。
 2. 日本語の能力を上げましょう。
 3. 最低限の品詞は理解しましょう。
 4. 英文読解の基礎を作りましょう。
 5. 説明書はきちんと読みましょう。
 6. 辞書や参考文献は必ず揃えましょう。
 7. 違和感を感じたら調査と検証をしましょう。
 8. なるべく原稿は寝かせましょう。
 9. 作業の流れを理解しましょう。
10. プログラムで翻訳しやすいように文書を整形しましょう。
11. ユーザ辞書を整備しましょう。
12. 何度も読んで何度も修正しましょう。
13. 良い趣味を持ちましょう。
14. いい翻訳が欲しいのでしたら翻訳者を育てましょう。
15. 無駄な情報を省きましょう。

これは従来のSMT方式に限らずニューラル翻訳でも同じです。
不幸なことに、こういうのって一般人にはなかなか理解されないのですよね。


安物の翻訳ソフトと高額翻訳ソフトの違い
--------------------------------------
まったくといって参考になりませんが、独断と偏見で書いておきます。
また、裏取りはしていません。本気にされないように。

安物翻訳ソフト
  ・初心者向け...と喧伝しているが、「初期費用の安さ」だけで翻訳の基礎がない人には難易度高め。エビ固め。
  ・ここから始めると、あとで品詞の再学習など苦労するかもしれない。
  ・単語ごとの訳語候補の表示など支援機能がない。
  ・今となっては、あって当たり前の機能がない。
  ・ファイルのインポート、エクスポート周り弱い (tsv/tmx ファイルを読めない)
  ・バグが放置されたままでサポート終了なんかもある。
  ・足りない機能は FLOSS などで補う必要がある。
  ・マニュアルの出来が悪い。
  ・浮いたお金のほとんどは辞書ソフトか文法書、参考資料などに消える。
  ・色々揃えるとたいして安くはない。不要になった辞書はフリマアプリなどで一括で売ると飛びつく人はいますけど。
  ・どうしても串刺し検索したくて古い辞書ハンターになりがち。プレミアのついたEPWING辞書に飛びつくともう末期orz

高額翻訳ソフト (三万九千円〜十万円以上)
  ・プロとして食っていくなら...このソフトって指定が多い。 TRADOS, MemoQ, CafeTrans Expresso, Swordfish など。
  ・バージョンアップ費用は高額で毎年苦しめられる人が多い。
  ・単品ずつ揃えると総計十万円以上は軽く飛ぶ最新版の対訳辞書を標準装備
  ・特定分野に特化した翻訳エンジン
  ・用語集の自動作成と編集機能
  ・翻訳メモリ機能
  ・辞書や翻訳メモリなどの共有機能
  ・統一化されたユーザインタフェース
  ・環境構築はラクチン
  ・...など

FLOSS 翻訳ソフト (0 〜 以上)
  ・Windows, macOS に縛られなくて良い。 Chromebook (Linux) でも作業ができる。
  ・高額ソフトへの渇望を癒せるかもしれない。
  ・なければ作ったり、魔改造もできる。
  ・膨大なオンライン辞書と無限大の生きた用例。ただしフリーのオフライン辞書は貧弱で...。
  ・資料集めや環境構築、移行には半年くらい。環境構築はわりと大変かもしれない (そうでもないか...)。
  ・分厚い胸板、分厚い言語の壁を乗り越えられる人なら問題ない。
  ・使う人によっては高額翻訳ソフトに匹敵する生産性を叩き出せるかも...しれない。

スマートフォン＋オンライン翻訳
  ・見かけ上の訳出結果は自然に見えますが、突っ込みどころが多くて使えないこともしばしば。
  ・訳抜けなど問題のある訳出が出てしまうことも。結局、品詞単位で分割して検証なんてオチもあります。
  ・翻訳結果が外部に流出してしまうので機密文書では使えないです。
  ・翻訳メモリのアプリがありません。本当にないです。
  ・MTPE (ポストエディット) という本業さんから忌み嫌われている方法でもあります。

原文と筆記具(万年と便箋・単語カード、ワープロ専用機)、ICレコーダー、紙の辞書と電子辞書のみ (0 〜 円)
  ・この方法を今でもしている人はいるようです (頭の中で訳文を編み出して口述筆記できる人など)。
  ・口述筆記は非常に生産性が高いです。文字起こしをほかの人に委託できる人に限りますが。
  ・筆者も災害時やハード故障時、改訳時以外は、この方法で作業しません。
  ・翻訳ソフトを買う前に、この方法に慣れておいたほうが良いかもしれません。

ちなみに....
  ・高いからと言って訳出精度が著しく改善するわけではありません。ちゃんと語学力や言語感覚を磨きましょう。
  ・高いソフトは用語収集やウェブ検索、その他雑務の手間を省くなどラクをするためにあります。どこまでラクができるか人によります。
  ・どんなに良い翻訳エンジンでも、最終的に人間側で徹底した確認と修正を行う必要があります。
  ・パラダイムの選択を誤ると一年くらい苦労します。ちゃんとご自身の技量を見分けてから選びましょう。

