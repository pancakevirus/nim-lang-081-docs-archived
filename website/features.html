---
layout: default
title: 特徴
css_class: features
---

  <h1 class="text-centered page-title main-heading">特徴</h1>

  <section class="content">
    <div class="pure-g">
      <div class="pure-u-1">
        <h1>直感的で美しいシンタックス</h1>
      </div>
      <div class="pure-u-1 pure-u-md-1-2 code-align">
        <h2>
          複数の言語からインスピレーションを得ているため、
          Nim のシンタックスは理解が容易あり、
          コードの修正は非常に効率的なものとなります。
        </h2>
        <ul>
          <li>インデントに意味を持たせたシンタックス</li>
          <li>Python に影響を受けた多重コンストラクタ</li>
          <li>複数行ラムダ</li>
          <li>Oberon に影響を受けた可視性マーカー</li>
          <li>Pascal に影響を受けた効率的な定義ができる型階層 (type sections)</li>
        </ul>
      </div>
      <div class="pure-u-1 pure-u-md-1-2 center">
        {% highlight nim %}
import strformat
type
  Person = object
    name*: string # フィールドは `*` でエクスポートします。
    age: Natural  # Natural 型の age を正数として確保します。

var people = [
  Person(name: "John", age: 45),
  Person(name: "Kate", age: 30)
]

for person in people:
  # 型安全の文字列補完。
  echo(fmt"{person.name} is {person.age} years old"){% endhighlight %}
      </div>
    </div>
  </section>


  <section class="background-faded call-to-action">
    <section class="content text-centered">
      <h2>各種オペレーティング・システムへのサポート</h2>
      <div class="pure-g center">
        <div class="pure-u-1">
          <i class="fab fa-windows fa-5x" aria-hidden="true"></i>
          <i class="fab fa-apple fa-5x" aria-hidden="true"></i>
          <i class="fab fa-linux fa-5x" aria-hidden="true"></i>
        </div>
        <div class="pure-u-1-2">
          <p>
            Nim はプラットホームとして、すべての主要オペレーティングシステム、および様々なニッチプラットホームにも
            サポートしています。三大オペレーティング・システム<!--の全種類-->を
            完全サポートしていることを誇りに思います。
          </p>
        </div>
      </div>
    </section>
  </section>

  <section class="content">
    <div class="pure-g">
      <div class="pure-u-1 pure-u-md-1-2">
        <h1 id="many-garbage-collector-options">豊富なガーベジコレクターの選択肢</h1>
        <p>高速、逐次的であり、一時停止処理のない遅延 RC'ing
        ガーベジ・コレクター、あるいは、最大一時停止時間を指定できる
        柔軟なリアルタイムガーベジ・コレクター。
        それ以外にも様々な方法を選べます。
        </p>
      </div>
      <div class="pure-u-1 pure-u-md-1-2">
        <div class="image right">
          <img src="{{ site.baseurl }}/assets/img/features/gc_latency.png"/>
          <p>
            <b>出典: </b>
            <a href="https://forum.nim-lang.org/t/2646/3#18263">https://forum.nim-lang.org/t/2646/3#18263</a>
          </p>
        </div>
      </div>
    </div>
  </section>

  <section class="background-faded call-to-action">
    <section class="content">
      <div class="pure-g">
        <div class="pure-u-1 pure-u-md-1-2">
          <div class="image">
            <img src="{{ site.baseurl }}/assets/img/features/binary_size.png"/>
            <p>
              <b>出典: </b>
              <a href="https://github.com/dom96/binary_size">https://github.com/dom96/binary_size</a>
            </p>
          </div>
        </div>
        <div class="pure-u-1 pure-u-md-1-2">
          <h2 id="native-performance-with-optimisations">最先端の最適化技法によるネイティブ・パフォーマンスを実現</h2>
          <p>
          Cへのコンパイルにより、
          最新のCコンパイラに備わっている様々な機能を Nim で享受できます。
          このコンパイル方式の最大の利点は、素晴らしい移植性と最適化などがあります。
          これらは大勢の個人と有力企業により、
          40年以上に渡って実装が続けられてきました。
          </p>
          <p>Nim で生成したバイナリは依存性がなく、通常は超小型軽量になります。
          これにより、配布は簡単になるため、
          ユーザの満足度が高まります。
          </p>
        </div>
      </div>
    </section>
  </section>

  <section class="content">
    <div class="pure-g">
      <div class="pure-u-1">
        <h1 id="javascript-compilation">JavaScript へのコンパイル</h1>
      </div>
      <div class="pure-u-1 pure-u-md-1-2 code-align">
        <h2>
          Nim には、素晴らしい JavaScript バックエンドが搭載されているため、
          苦労せずにクライアントとサーバを同時にターゲットにできます。
        </h2>
        <div class="center">
          <script type="text/javascript" src="https://picheta.me/snake/snake.js"></script>

          <link rel="stylesheet" type="text/css" href="https://picheta.me/snake/snake.css">
          <style>
            #snake_center {
              width: 402px;
              margin-top: 30pt;
              height: 400px;
            }

            #snake_center > p {
              width: 100%;
              margin-bottom: 0;
            }
          </style>
          <div id="snake_center">
            <div id="snake">
              <canvas id="snake_canvas"></canvas>
              <div id="snake_controls">
                <span><b>ゲーム開始:</b> N</span>
                <span><b>再開/一時停止: </b> P</span>
                <span><b>操作: </b> ← → ↑ ↓</span>
              </div>
            </div>
            <p>
              上述のゲームは Nim で記述してあります。
              コンパイルは JavaScript バックエンド、描画は Canvas API です。
            </p>
            <p>
              <b>ソースコード: </b>
              <a href="https://github.com/dom96/snake">https://github.com/dom96/snake</a>
            </p>
            <p>
              <b>ゲームのウェブサイト: </b>
              <a href="http://picheta.me/snake">http://picheta.me/snake</a>
            </p>
          </div>
        </div>
      </div>
      <div class="pure-u-1 pure-u-md-1-2 center">
          {% highlight nim %}
import dom

proc onLoad(event: Event) =
  let p = document.createElement("p")
  p.innerHTML = "Click me!"
  p.style.fontFamily = "Helvetica"
  p.style.color = "red"

  p.addEventListener("click",
    proc (event: Event) =
      window.alert("Hello World!")
  )

  document.body.appendChild(p)

window.onload = onLoad{% endhighlight %}
      </div>
    </div>
  </section>

  <section class="background-faded call-to-action">
    <section class="content metaprogramming">
      <div class="pure-g">
        <div class="pure-u-1">
          <h2 id="small-core-with-extensibility">豊かな可能性を秘めた拡張性のある小規模コア</h2>
        </div>
        <div class="pure-u-1 pure-u-md-1-2">
          <p>Nim には強力なメタプログラミング機能一式を
          備えた小規模コア言語を実装しております。
          </p>
          <p>
          Nim のメタプログラミング機能はジェネリック、テンプレートとマクロなどに対応しています。
          これにより、各種プログラミング・パラダイムに対応することで Nim の拡張を可能にし、
          開発者はボイラープレートを書かなくて済むようになります。
          標準ライブラリ async await (非同期待機)
          はメタプログラミング機能を用いて実装しております。
          また、 Nim コミュニティでは様々なプログラミング・パラダイムを
          実装してパッケージを色々と開発しています。
          </p>
        </div>
        <div class="pure-u-1 pure-u-md-1-2 center">
          {% highlight nim %}
import macros, strutils

macro toEnum(words: static[string]): untyped =
  result = newTree(nnkEnumTy, newEmptyNode())

  for w in splitWhitespace(words):
    result.add ident(w)

type
  Color = toEnum"Red Green Blue Indigo"

var color = Indigo{% endhighlight %}
        </div>
      </div>
    </section>
  </section>

  <section class="content nimble">
    <div class="pure-g">
      <div class="pure-u-1 center">
        <h1 id="decentralised-package-management">分散パッケージ管理</h1>
      </div>
      <div class="pure-u-1 center">
        <img height="150px" src="{{ site.baseurl }}/assets/img/nimble.svg"/>
      </div>
      <div class="pure-u-1 pure-u-md-1-2 code-align">
        <h2>
          Nim パッケージマネージャの名前は Nimble です。
          パッケージは Git と Mercurial リポジトリで配布されており、
          バージョン情報を決定するためにネット経由でタグを照会します。
        </h2>
        <p>
        パッケージ名とリポジトリ URL との対応付けは
        <a href="https://github.com/nim-lang/packages">GitHub</a>
        に収録されている <code>packages.json</code> ファイルに定義されています。
        </p>
        <p>
        パッケージは<!--特別な-->専用形式の <code>.nimble</code> ファイルへ定義します。
        このファイル形式は Nim コンパイラにより評価されます。
        つまり、オペレーティングシステムの決定と外部依存性の指定ができるなど
        豊富で強力な機能を実現するため、プログラミング言語 Nim
        で広大なサブセットをサポートできます。
        </p>
      </div>
      <div class="pure-u-1 pure-u-md-1-2 center">
        {% highlight nim %}
# パッケージ

version       = "v0.1.0"
author        = "Benedict Cumberbatch"
description   = "Sample package."
license       = "MIT"

# 依存性
requires "nim >= 0.13.0", "jester >= 0.1.0"

import distros
if detectOs(Ubuntu):
  foreignDep "libssl-dev"
else:
  foreignDep "openssl"

task test, "Run the tester!":
  withDir "tests":
    exec "nim c -r tester"{% endhighlight %}
      </div>
      <div class="pure-u-1 center">
        <a class="pure-button pure-button-primary" href="https://github.com/nim-lang/nimble#readme">くわしく</a>
      </div>
    </div>
  </section>

  <section class="background-faded call-to-action">
    <section class="content ffi">
      <div class="pure-g center">
        <div class="pure-u-1 center">
          <h2 id="easy-c-obj-c-wrapping">容易な C, C++ <b>と</b> Objective C とのラッピング</h2>
        </div>
        <div class="pure-u-1 center">
          {% highlight nim %}
{.passL: "-lsfml-graphics -lsfml-system -lsfml-window".}

type
  VideoMode* {.importcpp: "sf::VideoMode".} = object
  RenderWindowObj {.importcpp: "sf::RenderWindow".} = object
  RenderWindow* = ptr RenderWindowObj
  Color* {.importcpp: "sf::Color".} = object
  Event* {.importcpp: "sf::Event".} = object

{.push cdecl, header: "<SFML/Graphics.hpp>".}
{.push importcpp.}

proc videoMode*(modeWidth, modeHeight: cuint,
                modeBitsPerPixel: cuint = 32): VideoMode
proc newRenderWindow*(mode: VideoMode, title: cstring): RenderWindow
proc pollEvent*(window: RenderWindow, event: var Event): bool
proc newColor*(red, green, blue, alpha: uint8): Color
proc clear*(window: RenderWindow, color: Color)
proc display*(window: RenderWindow)
{% endhighlight %}
        </div>
        <div class="pure-u-1 pure-u-md-1-2 center">
          <p>
          Nim は C, C++ と Objective C ライブラリとの接続が簡単です。
          これにより、開発者は広大で成熟したエコシステムと
          強力なライブラリへ容易にアクセスできるようになります。
          </p>
        </div>
        <div class="pure-u-1 center">
          <a class="pure-button pure-button-primary" href="https://nim-lang.org/docs/manual.html#implementation-specific-pragmas-importcpp-pragma">くわしく</a>
        </div>
      </div>
    </section>
  </section>

  <section class="content">
    <div class="pure-g">
      <div class="pure-u-1">
        <h1 id="helpful-tracebacks">実用的なトレースバック</h1>
      </div>
      <div class="pure-u-1 pure-u-md-1-2 code-align">
        <h2>
          Python に影響を受けています。
        </h2>
        <p>
        例外で Nim アプリケーションがクラッシュするとき、
        終了前にスタックトレースを出力します。
        このスタックトレースの書式は非常に理解しやすく、
        例外のデバッグで必要な全情報を記載してあります。
        </p>
      </div>
      <div class="pure-u-1 pure-u-md-1-2 center">
        {% highlight plain %}
Traceback (most recent call last)
module.nim(10)           module
module.nim(8)            readData
strutils.nim             parseInt
Error: unhandled exception:
       invalid integer: Hello World [ValueError]{% endhighlight %}
      </div>
    </div>
  </section>

  <section class="background-faded call-to-action">
    <section class="content text-centered">
      <h2>ほかに質問はございますか？
        <a href="{{ site.baseurl }}/faq.html">よくある質問と回答</a>をご覧ください。
      </h2>
    </section>
  </section>
