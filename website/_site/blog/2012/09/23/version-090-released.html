<!doctype html>
<html lang="en">
  <head>
  <meta name="charset" content="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="プログラミング言語 Nim は C, C++ と JavaScript へ コンパイルを行える簡潔で高速なプログラミング言語です。">
  <meta charset="utf-8">
  <link rel="icon" type="image/png" href="/assets/img/logo_bw.png" />

  
  <title>Version 0.9.0 released - Nim ブログ</title>
  
  <link rel="stylesheet" href="/assets/css/pure.min.css">
  <link rel="stylesheet" href="/assets/css/pure-grids-responsive.min.css">
  <link href="https://use.fontawesome.com/releases/v5.0.2/css/all.css" rel="stylesheet">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  
  <link rel="stylesheet" href="/assets/css/highlight/github.css">
  

  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans|Titillium+Web" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/main.css?t=1575086493317106700">

  <meta name="twitter:title" content="Version 0.9.0 released">

  
  <meta name="twitter:description" content="Summary Unsigned integers have been added. The integer type promotion rules changed. The template and macro system evolved. Closures have been implemented. Term rewriting macros have been implemented. First steps to unify expressions and statements have been taken. Symbol lookup rules in generics have become stricter to catch more errors.">
  <meta property="og:description" content="Summary Unsigned integers have been added. The integer type promotion rules changed. The template and macro system evolved. Closures have been implemented. Term rewriting macros have been implemented. First steps to unify expressions and statements have been taken. Symbol lookup rules in generics have become stricter to catch more errors.">
  

  <meta name="twitter:site" content="@nim_lang">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://nim-lang.org/assets/img/twitter_banner.png">

  <meta property="og:title" content="Version 0.9.0 released" />
  <meta property="og:site_name" content="プログラミング言語 Nim (非公式日本語β版)" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://nim-lang.org/assets/img/twitter_banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1000" />
  <meta property="og:image:height" content="500" />
  <meta property="og:image:alt" content="プログラミング言語 Nim" />
</head>

  <body class="site">
    <header>
  <nav class="pure-menu pure-menu-horizontal pure-menu-scrollable">
    <div class="nav-content">
      <a href="/" class="pure-menu-heading pure-menu-link site-logo-container">
        <img class="site-logo" src="/assets/img/logo.svg" height="28" alt="Nim">
      </a>
      <ul class="pure-menu-list">
        
        <li class="pure-menu-item">
          <a href="/blog.html"
             class="pure-menu-link ">
            ブログ
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/features.html"
             class="pure-menu-link ">
            特徴
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/install.html"
             class="pure-menu-link ">
            ダウンロード
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/learn.html"
             class="pure-menu-link ">
            学ぶ
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/documentation.html"
             class="pure-menu-link ">
            資料
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="https://forum.nim-lang.org"
             class="pure-menu-link ">
            フォーラム
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a href="/donate.html"
             class="pure-menu-link ">
            寄付
          </a>
        </li>
        
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://github.com/nim-lang/Nim">ソース</a>
        </li>
      </ul>
    </div>
    <div class="menu-fade"></div>
  </nav>
</header>

    <div class="site-content post-page">
      <div class="content">
        <div class="width-reduced">
          <h1 class="post-title">
            Version 0.9.0 released
          </h1>
          <h3 class="post-meta">
            <span>
              <i class="far fa-calendar-alt" aria-hidden="true"></i>
              2012年09月23日
            </span>
            
            <span>
              <i class="fa fa-user-circle" aria-hidden="true"></i>
              Andreas Rumpf
            </span>
            
          </h3>
          <h2 id="summary">Summary</h2>
<ul>
  <li>Unsigned integers have been added.</li>
  <li>The integer type promotion rules changed.</li>
  <li>The template and macro system evolved.</li>
  <li>Closures have been implemented.</li>
  <li>Term rewriting macros have been implemented.</li>
  <li>First steps to unify expressions and statements have been taken.</li>
  <li>Symbol lookup rules in generics have become stricter to catch more errors.</li>
</ul>

<h2 id="bugfixes">Bugfixes</h2>

<ul>
  <li>Fixed a bug where the compiler would “optimize away” valid constant parts of
a string concatenation.</li>
  <li>Fixed a bug concerning implicit type conversions in <code class="highlighter-rouge">case</code> statements.</li>
  <li>Fixed a serious code generation bug that caused <code class="highlighter-rouge">algorithm.sort</code> to
produce segmentation faults.</li>
  <li>Fixed ambiguity in recvLine which meant that receiving <code class="highlighter-rouge">\r\L</code> was
indistinguishable from disconnections.</li>
  <li>Many more bugfixes, too many to list them all.</li>
</ul>

<h2 id="library-additions">Library Additions</h2>

<ul>
  <li>Added the (already existing) module <code class="highlighter-rouge">htmlgen</code> to the documentation.</li>
  <li>Added the (already existing) module <code class="highlighter-rouge">cookies</code> to the documentation.</li>
  <li>Added <code class="highlighter-rouge">system.shallow</code> that can be used to speed up string and sequence
assignments.</li>
  <li>Added <code class="highlighter-rouge">system.eval</code> that can execute an anonymous block of code at
compile time as if was a macro.</li>
  <li>Added <code class="highlighter-rouge">system.staticExec</code> and <code class="highlighter-rouge">system.gorge</code> for compile-time execution
of external programs.</li>
  <li>Added <code class="highlighter-rouge">system.staticRead</code> as a synonym for <code class="highlighter-rouge">system.slurp</code>.</li>
  <li>Added <code class="highlighter-rouge">macros.emit</code> that can emit an arbitrary computed string as nimrod
code during compilation.</li>
  <li>Added <code class="highlighter-rouge">strutils.parseEnum</code>.</li>
  <li>Added <code class="highlighter-rouge">json.%</code> constructor operator.</li>
  <li>The stdlib can now be avoided to a point where C code generation for 16bit
micro controllers is feasible.</li>
  <li>Added module <code class="highlighter-rouge">oids</code>.</li>
  <li>Added module <code class="highlighter-rouge">endians</code>.</li>
  <li>Added a new OpenGL wrapper that supports OpenGL up to version 4.2.</li>
  <li>Added a wrapper for <code class="highlighter-rouge">libsvm</code>.</li>
  <li>Added a wrapper for <code class="highlighter-rouge">mongodb</code>.</li>
  <li>Added <code class="highlighter-rouge">terminal.isatty</code>.</li>
  <li>Added an overload for <code class="highlighter-rouge">system.items</code> that can be used to iterate over the
values of an enum.</li>
  <li>Added <code class="highlighter-rouge">system.TInteger</code> and <code class="highlighter-rouge">system.TNumber</code> type classes matching
any of the corresponding types available in Nimrod.</li>
  <li>Added <code class="highlighter-rouge">system.clamp</code> to limit a value within an interval <code class="highlighter-rouge">[a, b]</code>.</li>
  <li>Added <code class="highlighter-rouge">strutils.continuesWith</code>.</li>
  <li>Added <code class="highlighter-rouge">system.getStackTrace</code>.</li>
  <li>Added <code class="highlighter-rouge">system.||</code> for parallel <code class="highlighter-rouge">for</code> loop support.</li>
  <li>The GC supports (soft) realtime systems via <code class="highlighter-rouge">GC_setMaxPause</code>
and <code class="highlighter-rouge">GC_step</code> procs.</li>
  <li>The sockets module now supports ssl through the OpenSSL library, <code class="highlighter-rouge">recvLine</code>
is now much more efficient thanks to the newly implemented sockets buffering.</li>
  <li>The httpclient module now supports ssl/tls.</li>
  <li>Added <code class="highlighter-rouge">times.format</code> as well as many other utility functions
for managing time.</li>
  <li>Added <code class="highlighter-rouge">system.@</code> for converting an <code class="highlighter-rouge">openarray</code> to a <code class="highlighter-rouge">seq</code> (it used to
only support fixed length arrays).</li>
  <li>Added <code class="highlighter-rouge">system.compiles</code> which can be used to check whether a type supports
some operation.</li>
  <li>Added <code class="highlighter-rouge">strutils.format</code>, <code class="highlighter-rouge">subexes.format</code> which use the
new <code class="highlighter-rouge">varargs</code> type.</li>
  <li>Added module <code class="highlighter-rouge">fsmonitor</code>.</li>
</ul>

<h2 id="changes-affecting-backwards-compatibility">Changes affecting backwards compatibility</h2>

<ul>
  <li>On Windows filenames and paths are supposed to be in UTF-8.
The <code class="highlighter-rouge">system</code>, <code class="highlighter-rouge">os</code>, <code class="highlighter-rouge">osproc</code> and <code class="highlighter-rouge">memfiles</code> modules use the wide
string versions of the WinAPI. Use the <code class="highlighter-rouge">-d:useWinAnsi</code> switch to revert
back to the old behaviour which uses the Ansi string versions.</li>
  <li><code class="highlighter-rouge">static</code>, <code class="highlighter-rouge">do</code>, <code class="highlighter-rouge">interface</code> and <code class="highlighter-rouge">mixin</code> are now keywords.</li>
  <li>Templates now participate in overloading resolution which can break code that
uses templates in subtle ways. Use the new <code class="highlighter-rouge">immediate</code> pragma for templates
to get a template of old behaviour.</li>
  <li>There is now a proper distinction in the type system between <code class="highlighter-rouge">expr</code> and
<code class="highlighter-rouge">PNimrodNode</code> which unfortunately breaks the old macro system.</li>
  <li><code class="highlighter-rouge">pegs.@</code> has been renamed to <code class="highlighter-rouge">pegs.!*</code> and <code class="highlighter-rouge">pegs.@@</code> has been renamed
to <code class="highlighter-rouge">pegs.!*\</code> as <code class="highlighter-rouge">@</code> operators now have different precedence.</li>
  <li>The type <code class="highlighter-rouge">proc</code> (without any params or return type) is now considered a
type class matching all proc types. Use <code class="highlighter-rouge">proc ()</code> to get the old meaning
denoting a proc expecing no arguments and returning no value.</li>
  <li>Deprecated <code class="highlighter-rouge">system.GC_setStrategy</code>.</li>
  <li><code class="highlighter-rouge">re.findAll</code> and <code class="highlighter-rouge">pegs.findAll</code> don’t return <em>captures</em> anymore but
matching <em>substrings</em>.</li>
  <li>RTTI and thus the <code class="highlighter-rouge">marshall</code> module don’t contain the proper field names
of tuples anymore. This had to be changed as the old behaviour never
produced consistent results.</li>
  <li>Deprecated the <code class="highlighter-rouge">ssl</code> module.</li>
  <li>Deprecated <code class="highlighter-rouge">nimrod pretty</code> as it never worked good enough and has some
inherent problems.</li>
  <li>The integer promotion rules changed; the compiler is now less picky in some
situations and more picky in other situations: In particular implicit
conversions from <code class="highlighter-rouge">int</code> to <code class="highlighter-rouge">int32</code> are now forbidden.</li>
  <li><code class="highlighter-rouge">system.byte</code> is now an alias for <code class="highlighter-rouge">uint8</code>; it used to be an alias
to <code class="highlighter-rouge">int8</code>.</li>
  <li><code class="highlighter-rouge">bind</code> expressions in templates are not properly supported anymore. Use
the declarative <code class="highlighter-rouge">bind</code> statement instead.</li>
  <li>The default calling convention for a procedural <strong>type</strong> is now <code class="highlighter-rouge">closure</code>,
for procs it remains <code class="highlighter-rouge">nimcall</code> (which is compatible to <code class="highlighter-rouge">closure</code>).
Activate the warning <code class="highlighter-rouge">ImplicitClosure</code> to make the compiler list the
occurrences of proc types which are affected.</li>
  <li>The Nimrod type system now distinguishes <code class="highlighter-rouge">openarray</code> from <code class="highlighter-rouge">varargs</code>.</li>
  <li>Templates are now <code class="highlighter-rouge">hygienic</code>. Use the <code class="highlighter-rouge">dirty</code> pragma to get the old
behaviour.</li>
  <li>Objects that have no ancestor are now implicitly <code class="highlighter-rouge">final</code>. Use
the <code class="highlighter-rouge">inheritable</code> pragma to introduce new object roots apart
from <code class="highlighter-rouge">TObject</code>.</li>
  <li>Macros now receive parameters like templates do; use the <code class="highlighter-rouge">callsite</code> builtin
to gain access to the invocation AST.</li>
  <li>Symbol lookup rules in generics have become stricter to catch more errors.</li>
</ul>

<h2 id="compiler-additions">Compiler Additions</h2>

<ul>
  <li>Win64 is now an officially supported target.</li>
  <li>The Nimrod compiler works on BSD again, but has some issues
as <code class="highlighter-rouge">os.getAppFilename</code> and <code class="highlighter-rouge">os.getAppDir</code> cannot work reliably on BSD.</li>
  <li>The compiler can detect and evaluate calls that can be evaluated at compile
time for optimization purposes with the <code class="highlighter-rouge">--implicitStatic</code> command line
option or pragma.</li>
  <li>The compiler now generates marker procs that the GC can use instead of RTTI.
This speeds up the GC quite a bit.</li>
  <li>The compiler now includes a new advanced documentation generator
via the <code class="highlighter-rouge">doc2</code> command. This new generator uses all of the semantic passes
of the compiler and can thus generate documentation for symbols hiding in
macros.</li>
  <li>The compiler now supports the <code class="highlighter-rouge">dynlib</code> pragma for variables.</li>
  <li>The compiler now supports <code class="highlighter-rouge">bycopy</code> and <code class="highlighter-rouge">byref</code> pragmas that affect how
objects/tuples are passed.</li>
  <li>The embedded profiler became a stack trace profiler and has been documented.</li>
</ul>

<h2 id="language-additions">Language Additions</h2>

<ul>
  <li>Added explicit <code class="highlighter-rouge">static</code> sections for enforced compile time evaluation.</li>
  <li>Added an alternative notation for lambdas with <code class="highlighter-rouge">do</code>.</li>
  <li><code class="highlighter-rouge">addr</code> is now treated like a prefix operator syntactically.</li>
  <li>Added <code class="highlighter-rouge">global</code> pragma that can be used to introduce new global variables
from within procs.</li>
  <li><code class="highlighter-rouge">when</code> expressions are now allowed just like <code class="highlighter-rouge">if</code> expressions.</li>
  <li>The precedence for operators starting with <code class="highlighter-rouge">@</code> is different now
allowing for <em>sigil-like</em> operators.</li>
  <li>Stand-alone <code class="highlighter-rouge">finally</code> and <code class="highlighter-rouge">except</code> blocks are now supported.</li>
  <li>Macros and templates can now be invoked as pragmas.</li>
  <li>The apostrophe in type suffixes for numerical literals is now optional.</li>
  <li>Unsigned integer types have been added.</li>
  <li>The integer promotion rules changed.</li>
  <li>Nimrod now tracks proper intervals for <code class="highlighter-rouge">range</code> over some built-in operators.</li>
  <li>In parameter lists a semicolon instead of a comma can be used to improve
readability: <code class="highlighter-rouge">proc divmod(a, b: int; resA, resB: var int)</code>.</li>
  <li>A semicolon can now be used to have multiple simple statements on a single
line: <code class="highlighter-rouge">inc i; inc j</code>.</li>
  <li><code class="highlighter-rouge">bind</code> supports overloaded symbols and operators.</li>
  <li>A <code class="highlighter-rouge">distinct</code> type can now borrow from generic procs.</li>
  <li>Added the pragmas <code class="highlighter-rouge">gensym</code>, <code class="highlighter-rouge">inject</code> and <code class="highlighter-rouge">dirty</code> for hygiene
in templates.</li>
  <li>Comments can be continued with a backslash continuation character so that
comment pieces don’t have to align on the same column.</li>
  <li>Enums can be annotated with <code class="highlighter-rouge">pure</code> so that their field names do not pollute
the current scope.</li>
  <li>A proc body can consist of an expression that has a type. This is rewritten
to <code class="highlighter-rouge">result = expression</code> then.</li>
  <li>Term rewriting macros (see
<a href="https://nim-lang.org/docs/manual.html#term-rewriting-macros">trmacros</a>)
have been implemented but are still in alpha.</li>
</ul>

        </div>
      </div>
    </div>
    <footer>
  <section class="content">
    <div class="pure-g">
      <div class="copyright pure-u-2-3">
        <p>
          特に明記のない場合に限り、
          このページのコンテンツの利用条件は
          <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a>
          ライセンスです。
          また、このウェブサイトに掲載されているソースコードの利用条件は MIT ライセンスです。
        </p>
        <p>
          このウェブサイトのソースコードは
          <a href="https://github.com/nim-lang/website">GitHub</a>
          にあります。ご貢献を歓迎します。
          ウェブサイトのオリジナルデザインは
          <a href="https://github.com/dom96">Dominik Picheta</a> と
          <a href="https://github.com/Calinou">Hugo Locurcio</a> です。
          ロゴデザインは <a href="https://github.com/josephwecker">Joseph Wecker</a> です。日本語訳は <a href="https://twitter.com/isvowel/">isVowel</a> と <a href="https://osdn.net/projects/nim-lang-081/wiki/Contributors">&#x1f34e;むつさんチーム</a> です。
        </p>
      </div>
      <div class="pure-u-1-3 right-center">
        <a href="https://m.do.co/c/637ab907c7f4"><img src="/assets/img/do.png"/></a>
      </div>
    </div>
  </section>

</footer>
<script>
    (function(){
      function setTracking(a) {
        var url = a.href;
        a.onclick = function() {
          if (typeof(ga) !== "undefined") {
            ga('send', 'event', 'outbound', 'click', url, {
              'transport': 'beacon',
              'hitCallback': function(){document.location = url;}
            });
          }
        };
      }

      var a = document.getElementsByTagName("a");
      for (var i = 0; i < a.length; ++i) {
        if (a[i].hostname != location.hostname &&
            a[i].getAttribute("target") !== "_blank"
        ) {
          setTracking(a[i])
        }
      }
    })();
</script>

  </div>
  </body>
</html>
